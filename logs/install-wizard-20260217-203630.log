Log file: /home/linuxury/Documents/Arch Linux/scripts/../logs/install-wizard-20260217-203630.log
Dry run: 0
/home/linuxury/Documents/Arch Linux/scripts/install-wizard.sh: line 113: rg: command not found
/home/linuxury/Documents/Arch Linux/scripts/install-wizard.sh: line 116: rg: command not found

== Hardware Detection ==
Detected hardware profile and proposed defaults.
Detected chassis: desktop
Battery detected: no
Fingerprint device hint: no
Proposed profile: desktop
Use these defaults as starting point? [Y/n]: 
== Core Layer ==
Base OS stack: kernel, network/audio/session baseline, microcode/GPU, bootloader config, and Btrfs snapshots.
Install core layer? [Y/n]: 
Kernel profiles:
  1) zen-lts      (recommended: zen main + lts fallback)
  2) mainline-zen (rc/mainline main + zen fallback)
  3) zen-stable   (zen main + stable fallback)
  4) none         (skip kernel package changes)
Choose profile [1-4] (default 1): Install CPU microcode? [Y/n]: Install GPU drivers? [Y/n]: Configure systemd-boot quiet default + fallback? [Y/n]: Configure Btrfs snapshots (Snapper) when root is Btrfs? [Y/n]: 
== Repo Layer ==
Repository/AUR setup: Chaotic-AUR and paru.
Install repo layer? [Y/n]: Configure Chaotic-AUR? [Y/n]: Install paru? [Y/n]: 
== Service Layer ==
System services: reflector, ufw, bluetooth, fstrim, sshd, tailscale, power profiles.
Install service layer? [Y/n]: Enable reflector periodic mirror refresh? [Y/n]: Enable firmware updates (fwupd)? [Y/n]: Enable zram swap profile? [Y/n]: Apply SSH hardening (root login off, key-only when keys are present)? [Y/n]: Enable laptop extras (fingerprint + laptop power helpers)? [y/N]: 
== Userland Layer ==
Desktop/user applications including apps bundle, development stack, gaming stack, and COSMIC.
Install userland layer? [Y/n]: Install apps bundle (Firefox, Thunderbird, OnlyOffice/Zed candidates, etc.)? [Y/n]: Install development bundle (Python + Rust)? [Y/n]: Install gaming bundle? [Y/n]: Install COSMIC packages where available? [Y/n]: 
== Summary ==
Review selected layers before execution.
Core:      yes (kernel=mainline-zen, microcode=yes, gpu=yes, boot=yes, snapshots=yes)
Repos:     yes (chaotic=yes, paru=yes)
Services:  yes (laptop extras=no, reflector timer=yes, fwupd=yes, zram=yes, ssh hardening=yes)
Userland:  yes (apps=yes, dev=yes, gaming=yes, cosmic=yes)
Run postflight validation at the end? [Y/n]: Proceed with selected actions now? [Y/n]: [RUN] core
:: Synchronizing package databases...
 core downloading...
 extra downloading...
 multilib downloading...
 chaotic-aur downloading...
:: Starting full system upgrade...
 there is nothing to do
warning: linux-mainline-6.19rc8-1 is up to date -- skipping
warning: linux-mainline-headers-6.19rc8-1 is up to date -- skipping
warning: linux-zen-6.18.9.zen1-2 is up to date -- skipping
warning: linux-zen-headers-6.18.9.zen1-2 is up to date -- skipping
 there is nothing to do
warning: networkmanager-1.54.3-1 is up to date -- skipping
warning: pipewire-1:1.4.10-2 is up to date -- skipping
warning: pipewire-pulse-1:1.4.10-2 is up to date -- skipping
warning: wireplumber-0.5.13-1 is up to date -- skipping
warning: xdg-desktop-portal-1.20.3-2 is up to date -- skipping
warning: xdg-desktop-portal-gtk-1.15.3-1 is up to date -- skipping
warning: greetd-0.10.3-1 is up to date -- skipping
warning: systemd-boot-pacman-hook-3-1.4 is up to date -- skipping
warning: snapper-0.13.0-2 is up to date -- skipping
warning: snap-pac-3.0.1-3 is up to date -- skipping
warning: btrfs-assistant-2.2-4 is up to date -- skipping
warning: fish-4.5.0-2 is up to date -- skipping
warning: fastfetch-2.59.0-1 is up to date -- skipping
warning: starship-1.24.2-2 is up to date -- skipping
 there is nothing to do
warning: ghostty-1.2.3-3 is up to date -- skipping
 there is nothing to do
Display manager already configured (/usr/lib/systemd/system/cosmic-greeter.service). Skipping greetd enable.
warning: amd-ucode-20260110-1 is up to date -- skipping
 there is nothing to do
Installed AMD microcode package: amd-ucode
/home/linuxury/Documents/Arch Linux/scripts/install-gpu-drivers.sh: line 15: rg: command not found
/home/linuxury/Documents/Arch Linux/scripts/install-gpu-drivers.sh: line 40: rg: command not found
/home/linuxury/Documents/Arch Linux/scripts/install-gpu-drivers.sh: line 45: rg: command not found
/home/linuxury/Documents/Arch Linux/scripts/install-gpu-drivers.sh: line 50: rg: command not found
Could not auto-detect a supported GPU from lspci output.
Detected lines:
<none>
Run manually with: ./scripts/install-gpu-drivers.sh intel|amdgpu|nvidia|nvidia-open|all-open
warning: vulkan-tools-1.4.341.0-1 is up to date -- skipping
resolving dependencies...
looking for conflicting packages...

Package (1)       New Version  Net Change  Download Size

extra/mesa-utils  9.0.0-7        0.76 MiB       0.15 MiB

Total Download Size:   0.15 MiB
Total Installed Size:  0.76 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
 mesa-utils-9.0.0-7-x86_64 downloading...
checking keyring...
checking package integrity...
loading package files...
checking for file conflicts...
checking available disk space...
:: Running pre-transaction hooks...
(1/1) Performing snapper pre snapshots for the following configurations...
==> root: 80
:: Processing package changes...
installing mesa-utils...
:: Running post-transaction hooks...
(1/2) Arming ConditionNeedsUpdate...
(2/2) Performing snapper post snapshots for the following configurations...
==> root: 81
GPU setup step complete. Reboot is recommended.
Configured systemd-boot entries:
  default:   arch.conf (linux-mainline)
  fallback:  arch-fallback.conf (linux-zen)
loader.conf set with hidden/no-wait menu (timeout 0) and editor disabled.
warning: snapper-0.13.0-2 is up to date -- skipping
warning: snap-pac-3.0.1-3 is up to date -- skipping
warning: btrfs-assistant-2.2-4 is up to date -- skipping
 there is nothing to do
Snapper configured for / with timeline + cleanup timers enabled.
snap-pac will auto-create snapshots around pacman transactions.
Tip: view snapshots with 'sudo snapper -c root list'.
[RUN] repos
Chaotic-AUR already configured in /etc/pacman.conf.
paru is already installed.
[RUN] services
warning: reflector-2023-5 is up to date -- skipping
warning: flatpak-1:1.16.3-1 is up to date -- skipping
warning: ufw-0.36.2-7 is up to date -- skipping
warning: bluez-5.86-2 is up to date -- skipping
warning: bluez-utils-5.86-2 is up to date -- skipping
 there is nothing to do
/home/linuxury/Documents/Arch Linux/scripts/setup-system-extras.sh: line 24: rg: command not found
Exception ignored while flushing sys.stdout:
BrokenPipeError: [Errno 32] Broken pipe
Default incoming policy changed to 'deny'
(be sure to update your rules accordingly)
Default outgoing policy changed to 'allow'
(be sure to update your rules accordingly)
Firewall is active and enabled on system startup
System extras setup complete.
warning: reflector-2023-5 is up to date -- skipping
 there is nothing to do
Created symlink '/etc/systemd/system/timers.target.wants/reflector.timer' → '/usr/lib/systemd/system/reflector.timer'.
Reflector timer configured and enabled.
warning: power-profiles-daemon-0.30-1 is up to date -- skipping
resolving dependencies...
looking for conflicting packages...

Package (1)      New Version  Net Change  Download Size

extra/tailscale  1.94.2-1      46.48 MiB      11.19 MiB

Total Download Size:   11.19 MiB
Total Installed Size:  46.48 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
 tailscale-1.94.2-1-x86_64 downloading...
checking keyring...
checking package integrity...
loading package files...
checking for file conflicts...
checking available disk space...
:: Running pre-transaction hooks...
(1/1) Performing snapper pre snapshots for the following configurations...
==> root: 82
:: Processing package changes...
installing tailscale...
:: Running post-transaction hooks...
(1/3) Reloading system manager configuration...
(2/3) Arming ConditionNeedsUpdate...
(3/3) Performing snapper post snapshots for the following configurations...
==> root: 83
Created symlink '/etc/systemd/system/multi-user.target.wants/tailscaled.service' → '/usr/lib/systemd/system/tailscaled.service'.
Created symlink '/etc/systemd/system/graphical.target.wants/power-profiles-daemon.service' → '/usr/lib/systemd/system/power-profiles-daemon.service'.
warning: zram-generator-1.2.1-1 is up to date -- skipping
resolving dependencies...
looking for conflicting packages...

Package (13)        New Version  Net Change  Download Size

extra/confuse       3.3-4          0.14 MiB       0.04 MiB
extra/flashrom      1.6.0-2        7.87 MiB       4.97 MiB
extra/fwupd-efi     1.8-1          0.07 MiB       0.03 MiB
extra/libcbor       0.12.0-1       0.17 MiB       0.04 MiB
extra/libftdi       1.5-10         0.51 MiB       0.12 MiB
extra/libjcat       0.2.5-1        0.56 MiB       0.09 MiB
extra/libmbim       1.34.0-1       3.62 MiB       0.47 MiB
extra/libqmi        1.38.0-1      21.52 MiB       1.93 MiB
extra/libqrtr-glib  1.4.0-1        0.13 MiB       0.03 MiB
extra/passim        0.1.10-1       0.29 MiB       0.08 MiB
extra/protobuf      33.1-3        17.92 MiB       3.61 MiB
extra/protobuf-c    1.5.2-8        0.41 MiB       0.13 MiB
extra/fwupd         2.0.19-1      13.73 MiB       5.43 MiB

Total Download Size:   16.98 MiB
Total Installed Size:  66.93 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
 fwupd-2.0.19-1-x86_64 downloading...
 flashrom-1.6.0-2-x86_64 downloading...
 protobuf-33.1-3-x86_64 downloading...
 libqmi-1.38.0-1-x86_64 downloading...
 libmbim-1.34.0-1-x86_64 downloading...
 protobuf-c-1.5.2-8-x86_64 downloading...
 libftdi-1.5-10-x86_64 downloading...
 libjcat-0.2.5-1-x86_64 downloading...
 passim-0.1.10-1-x86_64 downloading...
 confuse-3.3-4-x86_64 downloading...
 libcbor-0.12.0-1-x86_64 downloading...
 fwupd-efi-1.8-1-any downloading...
 libqrtr-glib-1.4.0-1-x86_64 downloading...
checking keyring...
checking package integrity...
loading package files...
checking for file conflicts...
checking available disk space...
:: Running pre-transaction hooks...
(1/1) Performing snapper pre snapshots for the following configurations...
==> root: 84
:: Processing package changes...
installing confuse...
installing libftdi...
Optional dependencies for libftdi
    python: library bindings [installed]
installing flashrom...
Optional dependencies for flashrom
    dmidecode: for SMBIOS/DMI table decoder support
installing fwupd-efi...
installing libcbor...
installing libjcat...
installing libmbim...
installing libqrtr-glib...
installing libqmi...
installing passim...
installing protobuf...
installing protobuf-c...
installing fwupd...
Optional dependencies for fwupd
    python-dbus: Firmware packaging tools
    python-gobject: Firmware packaging tools [installed]
    udisks2: UEFI firmware upgrade support [installed]
:: Running post-transaction hooks...
(1/7) Creating system user accounts...
Creating group 'fwupd' with GID 958.
Creating user 'fwupd' (Firmware update daemon) with UID 958 and GID 958.
Creating group 'passim' with GID 957.
Creating user 'passim' (Local Caching Server) with UID 957 and GID 957.
(2/7) Reloading system manager configuration...
(3/7) Reloading device manager configuration...
(4/7) Arming ConditionNeedsUpdate...
(5/7) Reloading system bus configuration...
(6/7) Updating icon theme caches...
(7/7) Performing snapper post snapshots for the following configurations...
==> root: 85
The unit files have no installation config (WantedBy=, RequiredBy=, UpheldBy=,
Also=, or Alias= settings in the [Install] section, and DefaultInstance= for
template units). This means they are not meant to be enabled or disabled using systemctl.
 
Possible reasons for having these kinds of units are:
• A unit may be statically enabled by being symlinked from another unit's
  .wants/, .requires/, or .upholds/ directory.
• A unit's purpose may be to act as a helper for some other unit which has
  a requirement dependency on it.
• A unit may be started when needed via activation (socket, path, timer,
  D-Bus, udev, scripted systemctl call, ...).
• In case of template units, the unit is meant to be enabled with some
  instance name specified.
Created symlink '/etc/systemd/system/timers.target.wants/fwupd-refresh.timer' → '/usr/lib/systemd/system/fwupd-refresh.timer'.
Maintenance setup complete (fwupd + zram-generator).
warning: openssh-10.2p1-2 is up to date -- skipping
 there is nothing to do
No authorized_keys found in /home; kept password auth enabled to avoid lockout.
After adding SSH keys, rerun with FORCE_SSH_KEY_ONLY=1 for strict mode.
Created symlink '/etc/systemd/system/multi-user.target.wants/sshd.service' → '/usr/lib/systemd/system/sshd.service'.
SSH hardening setup complete.
[RUN] userland
warning: topgrade-16.9.0-2 is up to date -- skipping
 there is nothing to do
warning: thunderbird-147.0.1-1 is up to date -- skipping
 there is nothing to do
warning: firefox-147.0.3-2 is up to date -- skipping
 there is nothing to do
warning: helix-25.07.1-1 is up to date -- skipping
 there is nothing to do
warning: gnome-disk-utility-46.1-2 is up to date -- skipping
 there is nothing to do
warning: flatpak-1:1.16.3-1 is up to date -- skipping
 there is nothing to do
warning: loupe-49.2-1 is up to date -- skipping
 there is nothing to do
warning: amberol-2025.1-2 is up to date -- skipping
 there is nothing to do
warning: showtime-49.1-2 is up to date -- skipping
 there is nothing to do
warning: papers-49.4-1 is up to date -- skipping
 there is nothing to do
warning: ttf-jetbrains-mono-nerd-3.4.0-2 is up to date -- skipping
 there is nothing to do
Installed nerd-fonts: ttf-jetbrains-mono-nerd
resolving dependencies...
looking for conflicting packages...

Package (7)                 New Version          Net Change   Download Size

extra/a52dec                0.8.0-2                 0.13 MiB       0.05 MiB
extra/gst-plugins-ugly      1.28.0-2                0.54 MiB       0.17 MiB
extra/libmpeg2              0.5.1-11                0.23 MiB       0.08 MiB
extra/ttf-carlito           20230509-2              2.61 MiB       0.77 MiB
extra/ttf-dejavu            2.37+18+g9b5d1b2f-7     9.79 MiB       2.61 MiB
extra/ttf-liberation        2.1.5-2                 4.16 MiB       1.53 MiB
chaotic-aur/onlyoffice-bin  9.2.1-1              1183.32 MiB     507.29 MiB

Total Download Size:    512.50 MiB
Total Installed Size:  1200.79 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
 onlyoffice-bin-9.2.1-1-x86_64 downloading...
 ttf-dejavu-2.37+18+g9b5d1b2f-7-any downloading...
 ttf-liberation-2.1.5-2-any downloading...
 ttf-carlito-20230509-2-any downloading...
 gst-plugins-ugly-1.28.0-2-x86_64 downloading...
 libmpeg2-0.5.1-11-x86_64 downloading...
 a52dec-0.8.0-2-x86_64 downloading...
checking keyring...
checking package integrity...
loading package files...
checking for file conflicts...
checking available disk space...
:: Running pre-transaction hooks...
(1/1) Performing snapper pre snapshots for the following configurations...
==> root: 86
:: Processing package changes...
installing a52dec...
installing libmpeg2...
installing gst-plugins-ugly...
installing ttf-dejavu...
installing ttf-liberation...
installing ttf-carlito...
installing onlyoffice-bin...
Optional dependencies for onlyoffice-bin
    libreoffice: for OpenSymbol fonts
    otf-takao: for japanese Takao fonts
    ttf-ms-fonts: for Microsoft fonts
    gst-plugins-good: for playing embedded video files [installed]
    gst-libav: for playing embedded video files
:: Running post-transaction hooks...
(1/7) Arming ConditionNeedsUpdate...
(2/7) Updating fontconfig configuration...
(3/7) Updating fontconfig cache...
(4/7) Updating 32-bit fontconfig cache...
(5/7) Updating icon theme caches...
(6/7) Updating the desktop file MIME type cache...
(7/7) Performing snapper post snapshots for the following configurations...
==> root: 87
Installed OnlyOffice: onlyoffice-bin
 there is nothing to do
Installed Zed: zed
warning: protonplus-0.5.16-1 is up to date -- skipping
 there is nothing to do
:: Resolving dependencies...
:: fluent-reader-bin-1.1.4-2 is up to date -- skipping
:: Calculating conflicts...
:: Calculating inner conflicts...
 there is nothing to do
:: Resolving dependencies...
:: sgdboop-bin-1.3.1-1 is up to date -- skipping
:: Calculating conflicts...
:: Calculating inner conflicts...
 there is nothing to do
warning: lsfg-vk-git-1.0.0.r139.g997bc66-1 is up to date -- skipping
 there is nothing to do
Apps report: installed=17 unavailable=0
Apps setup complete.
warning: python-3.14.3-1 is up to date -- skipping
error: target not found: pipx
warning: base-devel-1-2 is up to date -- skipping
warning: pkgconf-2.5.1-1 is up to date -- skipping
warning: clang-21.1.8-1 is up to date -- skipping
